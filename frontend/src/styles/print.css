/* =============================================================
   EzyCV – Print styles
   
   NOTE: The primary PDF download path is now a popup-window approach
   (see generatePDF in CVBuilder.js), which avoids all body-height /
   page-break issues entirely by printing a page with ONLY the CV.
   
   This file handles the fallback case where a user presses Ctrl+P
   on the main CV Builder page — it still shows a clean single CV.
   ============================================================= */

/* ── Screen: keep the print mirror hidden off-canvas ──────── */
@media screen {
  [data-cv-print="true"] {
    position: absolute;
    left: -9999px;
    top: 0;
    pointer-events: none;
    visibility: hidden;
  }
}

/* ── Print (Ctrl+P fallback on main page) ───────────────────── */
@media print {

  @page { size: A4 portrait; margin: 0; }

  /* Hide the entire page body — use display:none so it takes NO space */
  body > * { display: none !important; }

  /* Make the CV print wrapper itself visible and in normal flow */
  [data-cv-print="true"] {
    display: block !important;
    position: static !important;
    left: auto !important;
    top: auto !important;
    visibility: visible !important;
    margin: 0 !important;
    padding: 0 !important;
    box-shadow: none !important;
  }
  [data-cv-print="true"] * { visibility: visible !important; }

  /* Scale via zoom – page breaks are layout-aware */
  [data-cv-print="true"] > div {
    zoom: 1.335 !important;
    font-size: 9px !important;
    line-height: 1.35 !important;
  }
  [data-cv-print="true"] h1 { font-size: 20px !important; margin-bottom: 2px !important; }
  [data-cv-print="true"] h2 { font-size: 10.5px !important; margin-bottom: 5px !important; }
  [data-cv-print="true"] h3 { font-size: 10px !important; margin-bottom: 2px !important; }
  [data-cv-print="true"] p  { font-size: 8.5px !important; line-height: 1.3 !important; margin-bottom: 2px !important; }
  [data-cv-print="true"] li { font-size: 8.5px !important; line-height: 1.3 !important; margin-bottom: 1px !important; }
  [data-cv-print="true"] section { margin-bottom: 8px !important; }

  h1, h2, h3, h4, h5, h6 { break-after: avoid !important; page-break-after: avoid !important; }
  img { break-inside: avoid !important; max-width: 100% !important; }

  * {
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
    color-adjust: exact !important;
  }
}
